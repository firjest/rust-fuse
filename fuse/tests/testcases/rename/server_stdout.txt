START /rust-fuse/test_server

LookupRequest {
    parent_id: 1,
    name: "rename_old.txt",
}
LookupResponse {
    node: Node {
        id: Some(2),
        generation: 0,
        cache_timeout: 60s,
        attr_cache_timeout: 0ns,
        attr: NodeAttr {
            node_id: None,
            size: 0,
            blocks: 0,
            atime: 0ns,
            mtime: 0ns,
            ctime: 0ns,
            mode: 0o100644,
            nlink: 1,
            uid: 0,
            gid: 0,
            rdev: 0,
            blksize: 0,
        },
    },
}

LookupRequest {
    parent_id: 1,
    name: "rename_new.txt",
}
LookupResponse {
    node: Node {
        id: Some(3),
        generation: 0,
        cache_timeout: 60s,
        attr_cache_timeout: 0ns,
        attr: NodeAttr {
            node_id: None,
            size: 0,
            blocks: 0,
            atime: 0ns,
            mtime: 0ns,
            ctime: 0ns,
            mode: 0o100644,
            nlink: 1,
            uid: 0,
            gid: 0,
            rdev: 0,
            blksize: 0,
        },
    },
}

RenameRequest {
    old_directory_id: 1,
    old_name: "rename_old.txt",
    new_directory_id: 1,
    new_name: "rename_new.txt",
    flags: RenameRequestFlags {
        no_replace: false,
        exchange: false,
    },
}
RenameResponse

LookupRequest {
    parent_id: 1,
    name: "rename_noexist.txt",
}

LookupRequest {
    parent_id: 1,
    name: "rename_old.txt",
}
LookupResponse {
    node: Node {
        id: Some(2),
        generation: 0,
        cache_timeout: 60s,
        attr_cache_timeout: 0ns,
        attr: NodeAttr {
            node_id: None,
            size: 0,
            blocks: 0,
            atime: 0ns,
            mtime: 0ns,
            ctime: 0ns,
            mode: 0o100644,
            nlink: 1,
            uid: 0,
            gid: 0,
            rdev: 0,
            blksize: 0,
        },
    },
}

LookupRequest {
    parent_id: 1,
    name: "rename_dir.d",
}
LookupResponse {
    node: Node {
        id: Some(4),
        generation: 0,
        cache_timeout: 60s,
        attr_cache_timeout: 0ns,
        attr: NodeAttr {
            node_id: None,
            size: 0,
            blocks: 0,
            atime: 0ns,
            mtime: 0ns,
            ctime: 0ns,
            mode: 0o40755,
            nlink: 2,
            uid: 0,
            gid: 0,
            rdev: 0,
            blksize: 0,
        },
    },
}
